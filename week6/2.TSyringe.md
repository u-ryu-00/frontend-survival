# 2. TSyringe

## [ðŸ’¡ TSyringe](https://github.com/microsoft/tsyringe)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

TypeScriptìš© DI ë„êµ¬(IoC Container). External Storeë¥¼ ê´€ë¦¬í•˜ëŠ”ë° í™œìš©í•  ìˆ˜ ìžˆë‹¤. React ì»´í¬ë„ŒíŠ¸ ìž…ìž¥ì—ì„œëŠ” â€œì „ì—­â€ì²˜ëŸ¼ ì—¬ê²¨ì§„ë‹¤. â€œProp Drillingâ€ ë¬¸ì œë¥¼ ìš°ì•„í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìžˆëŠ” ë°©ë²• ì¤‘ í•˜ë‚˜(Reactë¡œ í•œì •í•˜ë©´ Contextë„ ì“¸ ìˆ˜ ìžˆë‹¤).

ìƒì„±ìž ì£¼ìž…ì„ ìœ„í•œ íƒ€ìž…ìŠ¤í¬ë¦½íŠ¸/ìžë°”ìŠ¤í¬ë¦½íŠ¸ìš© ê²½ëŸ‰ ì˜ì¡´ì„± ì£¼ìž… ì»¨í…Œì´ë„ˆë‹¤.

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ìž¥/ë‹¨ì )

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [TSyringe](https://github.com/microsoft/tsyringe)  
> [reflect-metadata](https://github.com/rbuckton/reflect-metadata)  
> [The problem with passing props](https://beta.reactjs.org/learn/passing-data-deeply-with-context#the-problem-with-passing-props)

## ðŸ’¡ ì˜ì¡´ì„± ì£¼ìž…(Dependency Injection)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

í•˜ë‚˜ì˜ ê°ì²´ê°€ ë‹¤ë¥¸ ê°ì²´ì˜ ì˜ì¡´ì„±ì„ ì œê³µí•˜ëŠ” í…Œí¬ë‹‰

ì˜ì¡´ì„± ì£¼ìž… ì˜ë„ëŠ” ê°ì²´ì˜ ìƒì„±ê³¼ ì‚¬ìš©ì˜ ê´€ì‹¬ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤. ì´ëŠ” ê°€ë…ì„±ê³¼ ì½”ë“œ ìž¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ì¤€ë‹¤.

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ìž¥/ë‹¨ì )

- ì˜ì¡´ì„± ì£¼ìž…ì€ í´ë¼ì´ì–¸íŠ¸ì˜ êµ¬ì„± ê°€ëŠ¥ì„±ì„ ìœ ì—°í•˜ê²Œ í•´ì¤€ë‹¤. í´ë¼ì´ì–¸íŠ¸ì˜ í–‰ìœ„ëŠ” ê³ ì •ë˜ì–´ ìžˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ê¸°ëŒ€í•˜ëŠ” ê³ ìœ í•œ ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ëŠ” ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìžˆë‹¤.
- ì˜ì¡´ì„± ì£¼ìž…ì„ í†µí•´ ì‹œìŠ¤í…œì˜ êµ¬ì„± ì„¸ë¶€ ì‚¬í•­ì„ ì™¸ë¶€ì˜ êµ¬ì„± íŒŒì¼ì—ì„œ ì‚¬ìš©í•˜ì—¬ ë¦¬ì»´íŒŒì¼ ì—†ì´ ì‹œìŠ¤í…œì„ ìž¬ êµ¬ì„±í•  ìˆ˜ ìžˆë‹¤. ë¶„ë¦¬ëœ êµ¬ì„±ì€ ì»´í¬ë„ŒíŠ¸ì˜ ì—¬ëŸ¬ êµ¬í˜„ì„ ìš”êµ¬í•˜ëŠ” ë‹¤ì–‘í•œ ìƒí™©ì„ ìœ„í•´ ìž‘ì„±ë  ìˆ˜ ìžˆë‹¤. ì´ëŠ” êµ­í•œë˜ì–´ ìžˆì§€ëŠ” ì•Šì§€ë§Œ í…ŒìŠ¤íŒ…ì„ í¬í•¨í•œë‹¤.
- ì˜ì¡´ì„± ì£¼ìž…ì€ ì½”ë“œì˜ ë™ìž‘ì—ì„œì˜ ì–´ë– í•œ ë³€ê²½ë„ ìš”êµ¬í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¦¬íŒ©í„°ë§ìœ¼ë¡œì¨ ë ˆê±°ì‹œ ì½”ë“œì—ë„ ì ìš©í•  ìˆ˜ ìžˆë‹¤. í´ë¼ì´ì–¸íŠ¸ëŠ” ë” ë…ë¦½ì ì´ë©° í…ŒìŠ¤íŠ¸ì— ì†í•˜ì§€ ì•Šì€ ë‹¤ë¥¸ ê°ì²´ë¥¼ ê°€ìž¥í•˜ëŠ” stubs ë˜ëŠ” ëª¨ì˜ ê°ì²´ë¥¼ ì‚¬ìš©í•´ ë…ë¦½ëœ ìœ ë‹› í…ŒìŠ¤íŠ¸ê°€ ë” ì‰¬ì›Œì§€ëŠ” ê²°ê³¼ë¥¼ ì–»ëŠ”ë‹¤.
- ì˜ì¡´ì„± ì£¼ìž…ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ëŠ” ì‚¬ìš©í•´ì•¼í•˜ëŠ” ëª¨ë“  êµ¬ì²´ì ì¸ êµ¬í˜„ì— ëŒ€í•œ ì§€ì‹ì„ ì œê±°í•  ìˆ˜ ìžˆë‹¤. ë””ìžì¸ ë³€ê²½ì´ë‚˜ ê²°í•¨ì˜ ì˜í–¥ìœ¼ë¡œë¶€í„° í´ë¼ì´ì–¸íŠ¸ë¥¼ ë…ë¦½í•˜ëŠ”ë° ë„ì›€ì„ ì£¼ë©°, ì´ëŠ” ìž¬ì‚¬ìš©ì„±, í…ŒìŠ¤íŠ¸ê°€ëŠ¥ì„±, ìœ ì§€ê°€ëŠ¥ì„±ì„ í–¥ìƒì‹œí‚¨ë‹¤.

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

ë§ˆí‹´ íŒŒìš¸ëŸ¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì„¸ ê°€ì§€ì˜ ì˜ì¡´ì„± ì£¼ìž… íŒ¨í„´ì„ ì œì‹œí•˜ì˜€ë‹¤.

- ìƒì„±ìž ì£¼ìž… : í•„ìš”í•œ ì˜ì¡´ì„±ì„ ëª¨ë‘ í¬í•¨í•˜ëŠ” í´ëž˜ìŠ¤ì˜ ìƒì„±ìžë¥¼ ë§Œë“¤ê³  ê·¸ ìƒì„±ìžë¥¼ í†µí•´ ì˜ì¡´ì„±ì„ ì£¼ìž…í•œë‹¤.
- ì„¸í„°(Setter)ë¥¼ í†µí•œ ì£¼ìž… : ì˜ì¡´ì„±ì„ ìž…ë ¥ë°›ëŠ” ì„¸í„°(Setter) ë©”ì†Œë“œë¥¼ ë§Œë“¤ê³  ì´ë¥¼ í†µí•´ ì˜ì¡´ì„±ì„ ì£¼ìž…í•œë‹¤.
- ì¸í„°íŽ˜ì´ìŠ¤(Interface)ë¥¼ í†µí•œ ì£¼ìž… : ì˜ì¡´ì„±ì„ ì£¼ìž…í•˜ëŠ” í•¨ìˆ˜ë¥¼ í¬í•¨í•œ ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ ìž‘ì„±í•˜ê³  ì´ ì¸í„°íŽ˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ë„ë¡ í•¨ìœ¼ë¡œì¨ ì‹¤í–‰ì‹œì— ì´ë¥¼ í†µí•˜ì—¬ ì˜ì¡´ì„±ì„ ì£¼ìž…í•œë‹¤.

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [ì˜ì¡´ì„± ì£¼ìž…](https://ko.wikipedia.org/wiki/%EC%9D%98%EC%A1%B4%EC%84%B1_%EC%A3%BC%EC%9E%85)

## [ðŸ’¡ reflect-metadata](https://github.com/rbuckton/reflect-metadata)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

ë©”íƒ€ ë°ì´í„°ë¥¼ ì €ìž¥í•  ì¸í„°ë„ ìŠ¬ë¡¯ì„ ì¶”ê°€í•˜ê³  ì—¬ê¸°ì— ì ‘ê·¼í•  ìˆ˜ ìžˆëŠ” Reflect APIë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ìž¥/ë‹¨ì )

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [reflect-metadata](https://github.com/rbuckton/reflect-metadata)
> [ë¦¬í”Œë ‰íŠ¸ ë©”íƒ€ë°ì´í„°](https://jeonghwan-kim.github.io/2023/06/20/reflect-metadata#%EB%A6%AC%ED%94%8C%EB%A0%89%ED%8A%B8-%EB%A9%94%ED%83%80%EB%8D%B0%EC%9D%B4%ED%84%B0)

## ðŸ’¡ singleton (ì‹±ê¸€í†¤)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

![singleton](../week6/images/singleton.png)

ì†Œí”„íŠ¸ì›¨ì–´ ë””ìžì¸ íŒ¨í„´ì—ì„œ ì‹±ê¸€í„´ íŒ¨í„´(Singleton pattern)ì„ ë”°ë¥´ëŠ” í´ëž˜ìŠ¤ëŠ”, ìƒì„±ìžê°€ ì—¬ëŸ¬ ì°¨ë¡€ í˜¸ì¶œë˜ë”ë¼ë„ ì‹¤ì œë¡œ ìƒì„±ë˜ëŠ” ê°ì²´ëŠ” í•˜ë‚˜ì´ê³  ìµœì´ˆ ìƒì„± ì´í›„ì— í˜¸ì¶œëœ ìƒì„±ìžëŠ” ìµœì´ˆì˜ ìƒì„±ìžê°€ ìƒì„±í•œ ê°ì²´ë¥¼ ë¦¬í„´í•œë‹¤. ì´ì™€ ê°™ì€ ë””ìžì¸ ìœ í˜•ì„ ì‹±ê¸€í„´ íŒ¨í„´ì´ë¼ê³  í•œë‹¤. ì£¼ë¡œ ê³µí†µëœ ê°ì²´ë¥¼ ì—¬ëŸ¬ê°œ ìƒì„±í•´ì„œ ì‚¬ìš©í•˜ëŠ” DBCP(DataBase Connection Pool)ì™€ ê°™ì€ ìƒí™©ì—ì„œ ë§Žì´ ì‚¬ìš©ëœë‹¤.

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ìž¥/ë‹¨ì )

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [ì‹±ê¸€í†¤](https://ko.wikipedia.org/wiki/%EC%8B%B1%EA%B8%80%ED%84%B4_%ED%8C%A8%ED%84%B4)
