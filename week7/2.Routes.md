# 2. Routes

## [ğŸ’¡ ë¼ìš°í„°ë€?](https://ko.wikipedia.org/wiki/%EB%9D%BC%EC%9A%B0%ED%84%B0)

![ì¼ë°˜ì ì¸ ê°€ì •ìš©/ì†Œí˜• ì˜¤í”¼ìŠ¤ìš© ë¼ìš°í„°ì˜ ëª¨ìŠµ](../week7/images/router.png)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

ë¼ìš°í„°(router í˜¹ì€ ë¼ìš°íŒ… ê¸°ëŠ¥ì„ ê°–ëŠ” ê³µìœ ê¸°)ëŠ” ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬ ê°„ì— ë°ì´í„° íŒ¨í‚·ì„ ì „ì†¡í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

ì˜¤ëŠ˜ë‚  ë¼ìš°í„°ì™€ ê·¼ë³¸ì ìœ¼ë¡œ ë™ì¼í•œ ê¸°ëŠ¥ì„ í•˜ëŠ” ìµœì´ˆì˜ ì¥ì¹˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ë©”ì‹œì§€ í”„ë¡œì„¸ì„œ(IMP)ì˜€ë‹¤. IMPëŠ” ìµœì´ˆì˜ TCP/IP ë„¤íŠ¸ì›Œí¬ì¸ ARPANETì„ êµ¬ì„±í•˜ì˜€ë˜ ì¥ì¹˜ì˜€ë‹¤. ë¼ìš°í„°ì˜ ê°œë…(ë‹¹ì‹œ ê²Œì´íŠ¸ì›¨ì´ë¡œ ë¶ˆë ¸ìŒ)ì€ ì²˜ìŒì— INWG(International Network Working Group)ë¼ëŠ” ì»´í“¨í„° ë„¤íŠ¸ì›Œí‚¹ ì—°êµ¬ì êµ­ì œ ê·¸ë£¹ì„ í†µí•´ íƒ„ìƒí•˜ì˜€ë‹¤.

### 3. íŠ¹ì§• (ë˜ëŠ” ì¥/ë‹¨ì )

íŒ¨í‚·ì˜ ìœ„ì¹˜ë¥¼ ì¶”ì¶œí•˜ì—¬, ê·¸ ìœ„ì¹˜ì— ëŒ€í•œ ìµœì ì˜ ê²½ë¡œë¥¼ ì§€ì •í•˜ë©°, ì´ ê²½ë¡œë¥¼ ë”°ë¼ ë°ì´í„° íŒ¨í‚·ì„ ë‹¤ìŒ ì¥ì¹˜ë¡œ ì „ë‹¬í•œë‹¤. ì´ë•Œ ìµœì ì˜ ê²½ë¡œëŠ” ì¼ë°˜ì ìœ¼ë¡œëŠ” ê°€ì¥ ë¹ ë¥´ê²Œ í†µì‹ ì´ ê°€ëŠ¥í•œ ê²½ë¡œì´ë¯€ë¡œ, ì¼ë°˜ì ìœ¼ë¡œëŠ” ìµœë‹¨ ê±°ë¦¬ì¼ ìˆ˜ ìˆì§€ë§Œ, ëŒì•„ê°€ëŠ” ê²½ìš°ë¼ë„ ê³ ì†ì˜ ì „ì†¡ë¡œë¥¼ í†µí•˜ì—¬ ì „ë‹¬ì´ ë  ìˆ˜ë„ ìˆë‹¤. ê°„ë‹¨íˆ ë§í•´, ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ê°„ì— ìµœì ì˜ ê²½ë¡œë¥¼ ì°¾ì•„ë‚´ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ í™œìš©í•´ ì¤‘ê³„ ì—­í• ì„ í•´ì£¼ëŠ” ì¥ì¹˜ë‹¤. ë¼ìš°í„°ëŠ” ê²Œì´íŠ¸ì›¨ì´ì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ê¸°ë„ í•œë‹¤.

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [ë¼ìš°í„°](https://ko.wikipedia.org/wiki/%EB%9D%BC%EC%9A%B0%ED%84%B0)

## ğŸ’¡ React Router

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

React RouterëŠ” ê°€ë³ê³  ëª¨ë“  ê¸°ëŠ¥ì„ ê°–ì¶˜ React JavaScript ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìœ„í•œ ë¼ìš°íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ë‹¤.

React RouterëŠ” ì›¹, ì„œë²„(node.js ì‚¬ìš©), React Native ë“± Reactê°€ ì‹¤í–‰ë˜ëŠ” ëª¨ë“  ê³³ì—ì„œ ì‹¤í–‰ëœë‹¤.

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ì¥/ë‹¨ì )

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [React Router](https://reactrouter.com/)

## [âœ¨ `<BrowserRouter>`](https://reactrouter.com/en/main/router-components/browser-router)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œì°½ì— clean URLsë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ìœ„ì¹˜ë¥¼ ì €ì¥í•˜ê³  ë¸Œë¼ìš°ì €ì— ë‚´ì¥ëœ íˆìŠ¤í† ë¦¬ ìŠ¤íƒì„ ì‚¬ìš©í•˜ì—¬ íƒìƒ‰í•˜ëŠ” Router Component

```tsx
import * as React from "react";
import { createRoot } from "react-dom/client";
import { BrowserRouter } from "react-router-dom";

const root = createRoot(document.getElementById("root"));

root.render(
  <BrowserRouter>
    {/* The rest of your app goes here */}
  </BrowserRouter>
);
```

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ì¥/ë‹¨ì )

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

- `basename`  
URLì˜ íŠ¹ì • basename ì•„ë˜ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ë„ë¡ êµ¬ì„±í•œë‹¤.

```tsx
function App() {
  return (
    <BrowserRouter basename="/app">
      <Routes>
        <Route path="/" /> {/* ğŸ‘ˆ Renders at /app/ */}
      </Routes>
    </BrowserRouter>
  );
}
```

- `future`  
ì„ íƒì ìœ¼ë¡œ í™œì„±í™”í•  ìˆ˜ ìˆëŠ” Future Flags ì§‘í•©ì´ë‹¤.

```tsx
function App() {
  return (
    <BrowserRouter future={{ v7_startTransition: true }}>
      <Routes>{/*...*/}</Routes>
    </BrowserRouter>
  );
}
```

- `window`  
`BrowserRouter`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ í˜„ì¬ ë¬¸ì„œì˜ `defaultView`ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, ì˜ˆë¥¼ ë“¤ì–´ `<iframe>`ì—ì„œ ë‹¤ë¥¸ ì°½ì˜ URLì— ëŒ€í•œ ë³€ê²½ ì‚¬í•­ì„ ì¶”ì í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [BrowserRouter](https://reactrouter.com/en/main/router-components/browser-router)

## [âœ¨ `Route`](https://reactrouter.com/en/main/route/route)

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

RoutesëŠ” ì•„ë§ˆë„ React Router Appì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì¼ ê²ƒì´ë‹¤. URL ì„¸ê·¸ë¨¼íŠ¸ì™€ ì»´í¬ë„ŒíŠ¸, ë°ì´í„° ë¡œë”© ë° ë°ì´í„° ë³€í˜•ì„ ì—°ê²°í•œë‹¤. route nestingì„ í†µí•´ ë³µì¡í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì•„ì›ƒê³¼ ë°ì´í„° ì¢…ì†ì„±ì„ ë‹¨ìˆœí•˜ê³  ì„ ì–¸ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

RoutesëŠ” router ìƒì„± í•¨ìˆ˜ì— ì „ë‹¬ë˜ëŠ” ê°ì²´ë‹¤.

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ì¥/ë‹¨ì )

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

- `path`  
routeê°€ URL, link href ë˜ëŠ” form actionê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ URLê³¼ ì¼ì¹˜ì‹œí‚¬ path patternì´ë‹¤.

```tsx
<Route
  // this path will match URLs like
  // - /teams/hotspur
  // - /teams/real
  path="/teams/:teamId"
  // the matching param will be available to the loader
  loader={({ params }) => {
    console.log(params.teamId); // "hotspur"
  }}
  // and the action
  action={({ params }) => {}}
  element={<Team />}
/>;

// and the element through `useParams`
function Team() {
  let params = useParams();
  console.log(params.teamId); // "hotspur"
}
```

- `index`  
routeê°€ index routeì¸ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤. index routesëŠ” default child routeì™€ ë§ˆì°¬ê°€ì§€ë¡œ ë¶€ëª¨ì˜ URLì—ì„œ ë¶€ëª¨ì˜ Outletë¡œ ë ë”ë§ëœë‹¤.

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

## âœ¨ `<MemoryRouter>`

### 1. ìš©ì–´ì˜ ì •ì˜(ì •í™•í•œ ì •ì˜)

ë‚´ë¶€ì ìœ¼ë¡œ ë°°ì—´ì— ìœ„ì¹˜ë¥¼ ì €ì¥í•œë‹¤.

```tsx
import * as React from "react";
import { create } from "react-test-renderer";
import {
  MemoryRouter,
  Routes,
  Route,
} from "react-router-dom";

describe("My app", () => {
  it("renders correctly", () => {
    let renderer = create(
      <MemoryRouter initialEntries={["/users/mjackson"]}>
        <Routes>
          <Route path="users" element={<Users />}>
            <Route path=":id" element={<UserProfile />} />
          </Route>
        </Routes>
      </MemoryRouter>
    );

    expect(renderer.toJSON()).toMatchSnapshot();
  });
});
```

### 2. ì—­ì‚¬ ë˜ëŠ” ì™œ í•„ìš”í•œê°€/ì™œ ìƒê²¼ëŠ”ê°€

### 3. íŠ¹ì§• (ë˜ëŠ” ì¥/ë‹¨ì )

- `<BrowserHistory>`ì™€ `<HashHistory>`ì™€ ë‹¬ë¦¬ ë¸Œë¼ìš°ì €ì˜ íˆìŠ¤í† ë¦¬ ìŠ¤íƒê³¼ ê°™ì€ ì™¸ë¶€ ì†ŒìŠ¤ì— ì—°ê²°ë˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ í…ŒìŠ¤íŠ¸ì™€ ê°™ì´ íˆìŠ¤í† ë¦¬ ìŠ¤íƒì„ ì™„ë²½í•˜ê²Œ ì œì–´í•´ì•¼í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì— ì´ìƒì ì´ë‹¤.

### 4. ì‚¬ìš©ë°©ë²• ë˜ëŠ” ì‚¬ìš© ê²½í—˜

- `bashname`  
URLì˜ íŠ¹ì • ê¸°ë³¸ ì´ë¦„ ì•„ë˜ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ë„ë¡ êµ¬ì„±í•œë‹¤.

```tsx
function App() {
  return (
    <MemoryRouter basename="/app">
      <Routes>
        <Route path="/" /> {/* ğŸ‘ˆ Renders at /app/ */}
      </Routes>
    </MemoryRouter>
  );
}
```

- `future`  
ì„ íƒì ìœ¼ë¡œ í™œì„±í™”í•  ìˆ˜ ìˆëŠ” Future Flages ì§‘í•©ì´ë‹¤.

```tsx
function App() {
  return (
    <MemoryRouter future={{ v7_startTransition: true }}>
      <Routes>{/*...*/}</Routes>
    </MemoryRouter>
  );
}
```

### 5. ê°œì¸ì ì¸ ìƒê°(ì¶”ê°€ì ì¸ ì§ˆë¬¸ ë˜ëŠ” ì¸ì‚¬ì´íŠ¸)

### 6. ë ˆí¼ëŸ°ìŠ¤ ëª¨ìŒ

> [Memory Route](https://reactrouter.com/en/main/router-components/memory-router#basename)
